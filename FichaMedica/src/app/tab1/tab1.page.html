<ion-content [fullscreen]="true" class="dashboard-content">
  <!-- Header del Sistema -->
  <div class="dashboard-header">
    <h1 class="main-title">Sistema Médico</h1>
    <p class="subtitle">Gestión integral de fichas médicas</p>
    
    <!-- Navegación de tabs del dashboard -->
    <div class="dashboard-tabs">
      <div class="tab-item active" (click)="onTabClick('Dashboard')">
        <ion-icon name="pulse"></ion-icon>
        <span>Dashboard</span>
      </div>
      <div class="tab-item" (click)="onTabClick('Pacientes')">
        <ion-icon name="people"></ion-icon>
        <span>Pacientes</span>
      </div>
      <div class="tab-item" (click)="onTabClick('Fichas')">
        <ion-icon name="document-text"></ion-icon>
        <span>Fichas</span>
      </div>
      <div class="tab-item" (click)="onTabClick('Medicacion')">
        <ion-icon name="medical"></ion-icon>
        <span>Medicación</span>
      </div>
    </div>
  </div>

  <!-- KPIs Principales -->
  <div class="kpi-section">
    <ion-grid>
      <ion-row>
        <ion-col size="6" size-md="3" *ngFor="let stat of stats">
          <ion-card class="kpi-card">
            <ion-card-content>
              <div class="kpi-header">
                <span class="kpi-title">{{stat.title}}</span>
                <ion-icon [name]="stat.icon" [class]="'kpi-icon ' + stat.colorClass"></ion-icon>
              </div>
              <div class="kpi-value">{{stat.value}}</div>
              <div class="kpi-subtitle">{{stat.subtitle}}</div>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>

  <!-- Contenido Principal -->
  <ion-grid>
    <ion-row>
      <!-- Alertas Clínicas -->
      <ion-col size="12" size-md="6">
        <ion-card class="alerts-card">
          <ion-card-header>
            <ion-card-title class="section-title">
              <ion-icon name="warning" class="title-icon red"></ion-icon>
              Alertas Clínicas
            </ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <div class="alert-item" *ngFor="let alert of criticalAlerts" (click)="onAlertClick(alert)">
              <div class="alert-info">
                <h4>{{alert.patient}}</h4>
                <p>{{alert.alert}}</p>
                <span class="time">
                  <ion-icon name="time-outline"></ion-icon>
                  {{alert.time}}
                </span>
              </div>
              <ion-chip [color]="alert.chipColor">{{getAlertTypeDisplay(alert.type)}}</ion-chip>
            </div>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <!-- Pacientes Recientes -->
      <ion-col size="12" size-md="6">
        <ion-card class="patients-card">
          <ion-card-header>
            <ion-card-title class="section-title">
              <ion-icon name="pulse" class="title-icon blue"></ion-icon>
              Pacientes Recientes
            </ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <div class="patient-item" *ngFor="let patient of recentPatients" (click)="onPatientClick(patient)">
              <div class="patient-info">
                <h4>{{patient.name}}</h4>
                <p>{{patient.room}}</p>
                <span class="time">
                  <ion-icon name="time-outline"></ion-icon>
                  {{patient.lastUpdate}}
                </span>
              </div>
              <ion-chip [color]="patient.chipColor">{{patient.condition}}</ion-chip>
            </div>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>

  <!-- Accesos Rápidos -->
  <div class="quick-actions">
    <h3 class="section-title">Accesos Rápidos</h3>
    <ion-grid>
      <ion-row>
        <ion-col size="6" size-md="3" *ngFor="let action of quickActions">
          <ion-button 
            [fill]="action.isPrimary ? 'solid' : 'outline'"
            [color]="action.isPrimary ? 'primary' : 'medium'"
            class="action-button" 
            (click)="action.action === 'onAgregarPaciente' ? onAgregarPaciente() : 
                     action.action === 'onAbrirUltimaFicha' ? onAbrirUltimaFicha() :
                     action.action === 'onSignosVitales' ? onSignosVitales() :
                     onExamenes()">
            <ion-icon [name]="action.icon"></ion-icon>
            <span>{{action.label}}</span>
          </ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>
