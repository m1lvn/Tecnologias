<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons>
    <ion-title>Pantalla Principal</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <!-- Panel superior -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>{{ userName }}</ion-card-title>
    </ion-card-header>

    <ion-card-content>

      <!-- Bloque Tareas -->
      <div class="metric">
        <div class="metric-head">
          <span class="metric-title">Tareas</span>
          <div class="metric-badges">
            <ion-badge color="medium">{{ pendingTasks }} pendientes</ion-badge>
            <ion-badge color="success">{{ doneTasks }} hechas</ion-badge>
          </div>
        </div>
        <ion-progress-bar [value]="tasksProgress"></ion-progress-bar >
      </div>

      <!-- Bloque Hábitos -->
      <div class="metric">
        <div class="metric-head">
          <span class="metric-title">Hábitos de hoy</span>
          <div class="metric-badges">
            <ion-badge color="success">{{ todayHabitsDone }} cumplidos</ion-badge>
            <ion-badge color="medium">{{ totalHabits }} totales</ion-badge>
          </div>
        </div>
        <ion-progress-bar [value]="habitsProgress"></ion-progress-bar>
      </div>

      <!-- Bloque Notas -->
      <div class="metric">
        <div class="metric-head">
          <span class="metric-title">Notas</span>
          <div class="metric-badges">
            <ion-badge color="tertiary">{{ notas.length }} guardadas</ion-badge>
          </div>
        </div>
        <ion-progress-bar [value]="notesProgress"></ion-progress-bar>
      </div>

      <!-- Acciones -->
      <div class="actions">
        <ion-button (click)="go('/pantalla1')" fill="solid">Ver tareas</ion-button>
        <ion-button (click)="go('/pantalla2')" fill="solid">Nueva tarea</ion-button>
        <ion-button (click)="go('/pantalla7')" fill="solid">Hábitos</ion-button>
        <ion-button (click)="go('/pantalla9')" fill="solid">Calendario</ion-button>
        <ion-button (click)="go('/pantalla10')" fill="solid">Estadísticas</ion-button>
      </div>

      <!-- (Opcional) Datos demo -->
      <div class="demo">
        <ion-button (click)="seedDemoData()" fill="outline">
          Cargar datos demo
        </ion-button>
      </div>

    </ion-card-content>
  </ion-card>

  <!-- Notas recientes, igual que lo tenías -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>Notas recientes</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-list *ngIf="notas.length; else noNotes">
        <ion-item *ngFor="let n of notas | slice:0:3">
          <ion-label>
            <h3>{{ n.title }}</h3>
            <p class="muted">{{ n.date | date:'short' }}</p>
          </ion-label>
        </ion-item>
      </ion-list>
      <ng-template #noNotes>
        <p class="muted">Aún no tienes notas.</p>
      </ng-template>
      <ion-button (click)="go('/pantalla5')">Ir a Notas</ion-button>
    </ion-card-content>
  </ion-card>

</ion-content>

